<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8" />
<title>نقاط Free Fire</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body { margin:0; font-family:'Tajawal', sans-serif; background:#111; color:#fff; overflow-x:hidden; }
header { background:linear-gradient(90deg,#c40000,#ff4d4d); padding:1em; text-align:center; font-size:1.5em; font-weight:bold; letter-spacing:1px; animation:headerGlow 2s infinite alternate; }
@keyframes headerGlow { 0% { text-shadow:0 0 5px #ff4d4d,0 0 10px #ff1a1a; } 100% { text-shadow:0 0 15px #ff4d4d,0 0 25px #ff1a1a; } }
nav { display:flex; justify-content:center; gap:1em; background:#222; padding:0.5em; flex-wrap:wrap; }
nav button { background:linear-gradient(90deg,#ff4d4d,#ff1a1a); border:none; padding:0.7em 1.2em; color:#fff; cursor:pointer; border-radius:10px; font-weight:bold; transition:transform 0.3s, box-shadow 0.3s; }
nav button:hover { transform:translateY(-3px); box-shadow:0 0 10px #ff4d4d,0 0 20px #ff1a1a; }

.section { display:none; padding:1em; max-width:1000px; margin:auto; animation:fadeIn 0.5s ease forwards; }
.active { display:block; }
@keyframes fadeIn { 0% { opacity:0; transform:translateY(20px); } 100% { opacity:1; transform:translateY(0); } }

/* عروض */
.offers-container { display:grid; grid-template-columns:repeat(auto-fit,minmax(250px,1fr)); gap:15px; margin-top:1em; }
.offers-container div { background:linear-gradient(135deg,#1a1a1a,#333); padding:1em; border-radius:15px; text-align:center; transition:transform 0.3s, box-shadow 0.3s; }
.offers-container div:hover { transform:translateY(-5px); box-shadow:0 0 20px #ff4d4d,0 0 30px #ff1a1a; }

/* iframe */
iframe { width:100%; height:60vh; border:none; border-radius:10px; margin-top:1em; transition:transform 0.3s; }
iframe:hover { transform:scale(1.02); }

/* inputs و buttons داخل الصفحة */
input, button { font-size:1em; border-radius:8px; padding:0.5em; border:none; outline:none; }

/* جدول المتصدرين */
table { width:100%; border-collapse:collapse; margin-top:1em; }
table th, table td { padding:8px; border:1px solid #fff; text-align:center; }
table th { background:#ff4d4d; color:#fff; }

/* فيديو responsive */
.video-container { position:relative; padding-bottom:56.25%; height:0; overflow:hidden; margin-top:1em; border-radius:15px; box-shadow:0 0 30px #ff4d4d,0 0 50px #ff1a1a; }
.video-container iframe { position:absolute; top:0; left:0; width:100%; height:100%; border:none; transition:transform 0.3s; }
.video-container iframe:hover { transform:scale(1.02); }

/* الصفحة الرئيسية أسطورية */
#home h1 { text-align:center; font-size:2.5em; color:#ff4d4d; text-shadow:0 0 10px #ff1a1a,0 0 20px #ff4d4d; margin-top:1em; animation:glow 2s infinite alternate; }
#home p { text-align:center; font-size:1.2em; color:#fff; margin-top:0.5em; margin-bottom:1.5em; }
@keyframes glow { 0% { text-shadow:0 0 5px #ff4d4d,0 0 10px #ff1a1a; } 100% { text-shadow:0 0 15px #ff4d4d,0 0 25px #ff1a1a; } }

/* أزرار رئيسية أسطورية */
.quick-buttons { display:flex; justify-content:center; gap:1em; flex-wrap:wrap; margin:2em 0; }
.quick-buttons button { padding:1em 2em; border-radius:15px; font-weight:bold; font-size:1.1em; cursor:pointer; transition:transform 0.3s, box-shadow 0.3s; }
.quick-buttons button:nth-child(1) { background:linear-gradient(90deg,#ff4d4d,#ff1a1a); color:#fff; box-shadow:0 0 20px #ff4d4d,0 0 40px #ff1a1a; }
.quick-buttons button:nth-child(2) { background:linear-gradient(90deg,#33ccff,#3366ff); color:#fff; box-shadow:0 0 20px #33ccff,0 0 40px #3366ff; }
.quick-buttons button:nth-child(3) { background:linear-gradient(90deg,#33ff77,#00cc44); color:#fff; box-shadow:0 0 20px #33ff77,0 0 40px #00cc44; }
.quick-buttons button:hover { transform:translateY(-5px) scale(1.05); }
.quick-buttons button:nth-child(1):hover { box-shadow:0 0 30px #ff4d4d,0 0 60px #ff1a1a; }
.quick-buttons button:nth-child(2):hover { box-shadow:0 0 30px #33ccff,0 0 60px #3366ff; }
.quick-buttons button:nth-child(3):hover { box-shadow:0 0 30px #33ff77,0 0 60px #00cc44; }

@media(max-width:600px){
  header{font-size:1.3em;padding:0.8em;} 
  nav{flex-direction:column;gap:0.5em;} 
  nav button{width:100%;} 
  iframe{height:50vh;} 
  #home h1 { font-size:2em; } 
  #home p { font-size:1em; }
}

</style>

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1566555811591369" crossorigin="anonymous"></script>

</head>
<body>

<header>🎮 نقاط Free Fire 🎮</header>

<nav>
<button onclick="showSection('home')">الرئيسية</button>
<button onclick="showSection('offers')">العروض</button>
<button onclick="showSection('account')">حسابي</button>
<button onclick="showSection('redeem')">طلب الشحن</button>
</nav>

<!-- الصفحة الرئيسية -->
<div id="home" class="section active">
  <h1>🎮 نقاط Free Fire 🎮</h1>
  <p>اكسب النقاط من خلال إكمال العروض وشحن جواهر Free Fire مجانًا 🎁</p>
  <div class="video-container">
    <iframe src="https://www.youtube.com/embed/9Hl8H3RfvrU" title="شرح موقع" allowfullscreen></iframe>
  </div>
  <h3 style="text-align:center; margin-top:0.5em; color:#ffb84d;">📺 شرح موقع النقاط</h3>

  <div class="quick-buttons">
    <button onclick="showSection('offers')">🎁 العروض</button>
    <button onclick="showSection('account')">👤 حسابي</button>
    <button onclick="showSection('redeem')">💎 طلب الشحن</button>
  </div>
</div>

<!-- العروض -->
<div id="offers" class="section">
<h2>العروض المتاحة</h2>
<div class="offers-container">
<div>
<h3>MyLead</h3>
<iframe id="offerwall-mylead" src=""></iframe>
</div>
<div>
<h3>AdGem</h3>
<iframe id="offerwall-adgem" src=""></iframe>
</div>
</div>
</div>

<!-- صفحة الحساب -->
<div id="account" class="section">
<h2>معلومات الحساب</h2>
<div id="user-info">لم تقم بتسجيل الدخول بعد.</div>
<button id="login-btn">تسجيل الدخول بحساب Google</button>
<button id="logout-btn" style="display:none;">تسجيل الخروج</button>
<p>عدد نقاطك: <span id="user-points">0</span></p>
<div>
<input type="text" id="user-id" placeholder="أدخل آيدي Free Fire">
<button id="save-id">حفظ الآيدي</button>
</div>
<h3>🏆 أفضل اللاعبين</h3>
<table id="leaderboard">
<thead><tr><th>#</th><th>المستخدم</th><th>النقاط</th></tr></thead>
<tbody id="leaderboard-body">
<tr><td colspan="3" style="text-align:center; padding:10px;">لا يوجد مستخدمون بعد</td></tr>
</tbody>
</table>
</div>

<!-- طلب الشحن -->
<div id="redeem" class="section">
<h2>طلب شحن الجواهر</h2>
<div id="enter-id-redeem">
<p>أدخل الآيدي أولاً:</p>
<input type="text" id="redeem-user-id" placeholder="آيدي Free Fire">
<button id="save-redeem-id">✅ حفظ الآيدي</button>
</div>
<div id="redeem-options" style="display:none;">
<p>اختر كمية الجواهر:</p>
<button onclick="redeem(1500,100)">✅ 100 جوهرة - 1500 نقطة</button>
<button onclick="redeem(3500,200)">✅ 200 جوهرة - 3500 نقطة</button>
<button onclick="redeem(8000,500)">✅ 500 جوهرة - 8000 نقطة</button>
</div>
</div>

<!-- Firebase + JS -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
<script>
function showSection(id){
    document.querySelectorAll('.section').forEach(s=>s.classList.remove('active'));
    document.getElementById(id).classList.add('active');
}

const firebaseConfig = {
    apiKey: "AIzaSyBSocmPYyRrVPFQIlk8UkHWxvPNIe1B1-A",
    authDomain: "freefirerewardsdz-69572.firebaseapp.com",
    databaseURL: "https://freefirerewardsdz-69572-default-rtdb.firebaseio.com",
    projectId: "freefirerewardsdz-69572",
    storageBucket: "freefirerewardsdz-69572.appspot.com",
    messagingSenderId: "145782934523",
    appId: "1:145782934523:web:76a2f7c4d2e37f94d6595e"
};
firebase.initializeApp(firebaseConfig);
const auth=firebase.auth();
const db=firebase.database();
const myleadBaseUrl="https://reward-me.eu/3cdf5a64-64d3-11f0-aa29-8a5fb7be40ea";
const adgemBaseUrl="https://api.adgem.com/v1/wall?appid=31011&playerid=";
let currentUserUid=null;

window.addEventListener('load',()=>{
    auth.onAuthStateChanged(user=>{
        if(user){
            currentUserUid=user.uid;
            document.getElementById('user-info').innerText=`مرحبًا ${user.displayName}`;
            document.getElementById('login-btn').style.display='none';
            document.getElementById('logout-btn').style.display='inline-block';
            document.getElementById('offerwall-mylead').src=myleadBaseUrl+"?ml_sub1="+user.uid;
            document.getElementById('offerwall-adgem').src=adgemBaseUrl+user.uid;

            const userRef=db.ref('users/'+currentUserUid);
            userRef.once('value').then(snap=>{
                if(!snap.exists()){
                    userRef.set({points:0,userId:""}).then(()=>{
                        document.getElementById('user-points').innerText="0";
                        document.getElementById('user-id').value="";
                    });
                } else {
                    const data=snap.val();
                    document.getElementById('user-points').innerText=data?.points||"0";
                    document.getElementById('user-id').value=data?.userId||"";
                }
            });

            const leaderboardRef=db.ref('users');
            leaderboardRef.orderByChild('points').limitToLast(10).on('value',snapshot=>{
                const tbody=document.getElementById('leaderboard-body'); tbody.innerHTML='';
                if(!snapshot.exists()){ 
                    tbody.innerHTML='<tr><td colspan="3" style="text-align:center; padding:10px;">لا يوجد مستخدمون بعد</td></tr>'; 
                    return; 
                }
                const users=[]; snapshot.forEach(child=>{ users.push(child.val()); });
                users.sort((a,b)=>(b.points||0)-(a.points||0));
                users.forEach((user,index)=>{
                    const row=`<tr><td>${index+1}</td><td>${user.userId||'غير محدد'}</td><td>${user.points||0}</td></tr>`;
                    tbody.innerHTML+=row;
                });
            });

        } else {
            document.getElementById('user-info').innerText='لم تقم بتسجيل الدخول بعد.';
            document.getElementById('login-btn').style.display='inline-block';
            document.getElementById('logout-btn').style.display='none';
            document.getElementById('user-points').innerText="0";
            document.getElementById('user-id').value="";
            document.getElementById('offerwall-mylead').src="";
            document.getElementById('offerwall-adgem').src="";
            document.getElementById('leaderboard-body').innerHTML='<tr><td colspan="3" style="text-align:center; padding:10px;">لا يوجد مستخدمون بعد</td></tr>';
        }
    });

    document.getElementById('login-btn').addEventListener('click',()=>{
        const provider=new firebase.auth.GoogleAuthProvider();
        auth.signInWithPopup(provider);
    });

    document.getElementById('logout-btn').addEventListener('click',()=>{ auth.signOut(); });

    document.getElementById('save-id').addEventListener('click',()=>{
        const id=document.getElementById('user-id').value.trim();
        if(!id||!currentUserUid) return alert('تأكد من تسجيل الدخول وكتابة الآيدي');
        db.ref('users/'+currentUserUid).update({userId:id}).then(()=>alert('✅ تم حفظ الآيدي بنجاح'));
    });

    document.getElementById('save-redeem-id').addEventListener('click',()=>{
        const redeemId=document.getElementById('redeem-user-id').value.trim();
        if(!redeemId) return alert('⚠️ أدخل الآيدي أولاً');
        if(!currentUserUid) return alert('⚠️ سجل الدخول أولاً');
        db.ref('users/'+currentUserUid).update({userId:redeemId});
        document.getElementById('enter-id-redeem').style.display='none';
        document.getElementById('redeem-options').style.display='block';
    });

});

function redeem(pointsRequired,gems){
    if(!currentUserUid) return alert('سجل الدخول أولاً');
    db.ref('users/'+currentUserUid).once('value').then(snap=>{
        const data=snap.val();
        if(!data) return alert('⚠️ لم يتم حفظ بياناتك بعد');
        if((data.points||0)<pointsRequired) return alert('❌ ليس لديك نقاط كافية لهذا الشحن.');
        db.ref('users/'+currentUserUid).update({points:data.points-pointsRequired});

        // إشعار التليجرام
        const botToken="8096326997:AAE_UuRKi3gnCdOfXKu76X4D4cPUuXSpPbo";
        const chatId="6285856969";
        const message=`📩 طلب شحن جديد\n💎 الجواهر: ${gems}\n🆔 الآيدي: ${data.userId||'غير محدد'}`;
        fetch(`https://api.telegram.org/bot${botToken}/sendMessage?chat_id=${chatId}&text=${encodeURIComponent(message)}`)
          .then(()=>alert('✅ تم إرسال طلب الشحن'))
          .catch(()=>alert('❌ فشل إرسال الطلب'));
    });
}
</script>
</body>
</html>
