<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8" />
  <title>نقاط Free Fire</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body { margin:0; font-family:'Tajawal', sans-serif; background:#111; color:#fff; overflow-x:hidden; }
    header { background:linear-gradient(90deg,#c40000,#ff4d4d); padding:1em; text-align:center; font-size:1.5em; font-weight:bold; letter-spacing:1px; animation:headerGlow 2s infinite alternate; }
    @keyframes headerGlow { 0% { text-shadow:0 0 5px #ff4d4d,0 0 10px #ff1a1a; } 100% { text-shadow:0 0 15px #ff4d4d,0 0 25px #ff1a1a; } }
    nav { display:flex; justify-content:center; gap:1em; background:#222; padding:0.5em; flex-wrap:wrap; }
    nav button { background:linear-gradient(90deg,#ff4d4d,#ff1a1a); border:none; padding:0.7em 1.2em; color:#fff; cursor:pointer; border-radius:10px; font-weight:bold; transition:transform 0.3s, box-shadow 0.3s; }
    nav button:hover { transform:translateY(-3px); box-shadow:0 0 10px #ff4d4d,0 0 20px #ff1a1a; }
    .section { display:none; padding:1em; max-width:1000px; margin:auto; animation:fadeIn 0.5s ease forwards; }
    .active { display:block; }
    @keyframes fadeIn { 0% { opacity:0; transform:translateY(20px); } 100% { opacity:1; transform:translateY(0); } }
    .offers-container { display:grid; grid-template-columns:repeat(auto-fit,minmax(250px,1fr)); gap:15px; margin-top:1em; }
    .offers-container div { background:linear-gradient(135deg,#1a1a1a,#333); padding:1em; border-radius:15px; text-align:center; transition:transform 0.3s, box-shadow 0.3s; }
    .offers-container div:hover { transform:translateY(-5px); box-shadow:0 0 20px #ff4d4d,0 0 30px #ff1a1a; }
    iframe { width:100%; height:60vh; border:none; border-radius:10px; margin-top:1em; transition:transform 0.3s; }
    iframe:hover { transform:scale(1.02); }
    input, button { font-size:1em; border-radius:8px; padding:0.5em; border:none; outline:none; }
    table { width:100%; border-collapse:collapse; margin-top:1em; }
    table th, table td { padding:8px; border:1px solid #fff; text-align:center; }
    table th { background:#ff4d4d; color:#fff; }
    /* ====================== فيديو responsive ====================== */
    .video-container {
      position: relative;
      padding-bottom: 56.25%;
      height: 0;
      overflow: hidden;
      margin: 20px auto;
      max-width: 800px;
    }
    .video-container iframe {
      position: absolute;
      top:0;
      left:0;
      width:100%;
      height:100%;
    }
    /* ====================== صفحة حسابي ====================== */
    .account-wrapper { max-width:900px; margin:20px auto; padding:20px; background:#1a1a1a; border-radius:12px; }
    .profile-section { display:flex; align-items:center; gap:20px; margin-bottom:20px; }
    .avatar { width:100px; height:100px; border-radius:50%; border:3px solid #4CAF50; }
    .username-id { display:flex; flex-direction:column; }
    .username { font-size:24px; font-weight:bold; color:#fff; }
    .user-id { font-size:16px; color:#ccc; display:flex; align-items:center; gap:5px; }
    .info-cards { display:flex; gap:20px; flex-wrap:wrap; margin-bottom:30px; }
    .card { flex:1; min-width:150px; background:#222; padding:15px; border-radius:10px; text-align:center; box-shadow:0 2px 8px rgba(0,0,0,0.3); }
    .card h3 { margin:0 0 10px 0; font-size:18px; color:#4CAF50; }
    .card p { font-size:20px; font-weight:bold; }
    .leaderboard { margin-top:20px; }
    .leaderboard h2 { margin-bottom:15px; color:#4CAF50; }
    .leaderboard-list { display:flex; flex-direction:column; gap:10px; }
    .leaderboard-item { background:#222; padding:10px 15px; border-radius:8px; display:flex; justify-content:space-between; align-items:center; box-shadow:0 1px 5px rgba(0,0,0,0.3); }
    .no-leader { font-style:italic; color:#999; }
    @media(max-width:600px){ header{font-size:1.3em;padding:0.8em;} nav{flex-direction:column;gap:0.5em;} nav button{width:100%;} iframe{height:50vh;} }
  </style>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1566555811591369"
     crossorigin="anonymous"></script>
</head>
<body>

<header>🎮 نقاط Free Fire 🎮</header>
<nav>
  <button onclick="showSection('home')">الرئيسية</button>
  <button onclick="showSection('offers')">العروض</button>
  <button onclick="showSection('account')">حسابي</button>
  <button onclick="showSection('redeem')">طلب الشحن</button>
</nav>

<!-- ===== الصفحة الرئيسية ===== -->
<div id="home" class="section active">
  <h2>مرحبًا بك!</h2>
  <p>اكسب النقاط من خلال إكمال العروض وشحن جواهر Free Fire مجانًا 🎁</p>
  <div class="video-container">
    <iframe src="https://www.youtube.com/embed/9Hl8H3RfvrU" title="شرح موقع" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
  </div>
</div>

<!-- ===== العروض ===== -->
<div id="offers" class="section">
  <h2>العروض المتاحة</h2>
  <div class="offers-container">
    <div>
      <h3 style="text-align:center;">MyLead</h3>
      <iframe id="offerwall-mylead" src=""></iframe>
    </div>
    <div>
      <h3 style="text-align:center;">AdGem</h3>
      <iframe id="offerwall-adgem" src=""></iframe>
    </div>
  </div>
</div>

<!-- ===== حسابي ===== -->
<div id="account" class="section">
  <div class="account-wrapper">
    <div class="profile-section">
      <img src="https://i.postimg.cc/HWSVzwcV/avataaars.png" alt="Avatar" class="avatar">
      <div class="username-id">
        <div class="username" id="display-name">اسم المستخدم</div>
        <div class="user-id"><span>ID:</span> <span id="display-id">12345</span></div>
      </div>
    </div>

    <div class="info-cards">
      <div class="card"><h3>النقاط</h3><p id="user-points">0</p></div>
      <div class="card"><h3>الرصيد</h3><p id="user-balance">0</p></div>
      <div class="card"><h3>الإنجازات</h3><p id="user-achievements">0/0</p></div>
    </div>

    <div class="leaderboard">
      <h2>المتصدرون</h2>
      <div class="leaderboard-list" id="leaderboard-body">
        <div class="no-leader">لا يوجد مستخدمون بعد</div>
      </div>
    </div>
  </div>
</div>

<!-- ===== طلب الشحن ===== -->
<div id="redeem" class="section">
  <h2>طلب شحن الجواهر</h2>
  <p>✅ اختر كمية الجواهر:</p>
  <button onclick="redeem(1500,100)">✅ 100 جوهرة - 1500 نقطة</button>
  <button onclick="redeem(3500,200)">✅ 200 جوهرة - 3500 نقطة</button>
<button onclick="redeem(8000,500)">✅ 500 جوهرة - 8000 نقطة</button>
</div>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
<script>
function showSection(id){
  document.querySelectorAll('.section').forEach(s=>s.classList.remove('active')); 
  document.getElementById(id).classList.add('active');
}

const firebaseConfig = {
  apiKey: "AIzaSyBSocmPYyRrVPFQIlk8UkHWxvPNIe1B1-A",
  authDomain: "freefirerewardsdz-69572.firebaseapp.com",
  databaseURL: "https://freefirerewardsdz-69572-default-rtdb.firebaseio.com",
  projectId: "freefirerewardsdz-69572",
  storageBucket: "freefirerewardsdz-69572.appspot.com",
  messagingSenderId: "145782934523",
  appId: "1:145782934523:web:76a2f7c4d2e37f94d6595e"
};
firebase.initializeApp(firebaseConfig);
const auth=firebase.auth(); 
const db=firebase.database();
const myleadBaseUrl="https://reward-me.eu/3cdf5a64-64d3-11f0-aa29-8a5fb7be40ea";
const adgemBaseUrl="https://api.adgem.com/v1/wall?appid=31011&playerid=";
let currentUserUid=null;

window.addEventListener('load',()=>{
  auth.onAuthStateChanged(user=>{
    if(user){
      currentUserUid=user.uid;
      document.getElementById('display-name').innerText=user.displayName;
      document.getElementById('login-btn')?.style.display='none';
      document.getElementById('logout-btn')?.style.display='inline-block';
      document.getElementById('offerwall-mylead').src=myleadBaseUrl+"?ml_sub1="+user.uid;
      document.getElementById('offerwall-adgem').src=adgemBaseUrl+user.uid;

      const userRef=db.ref('users/'+currentUserUid);
      userRef.once('value').then(snap=>{
        if(!snap.exists()){ 
          userRef.set({points:0,userId:"",balance:0,achievements:"0/0"}).then(()=>{
            document.getElementById('user-points').innerText="0";
            document.getElementById('display-id').innerText="12345";
            document.getElementById('user-balance').innerText="0";
            document.getElementById('user-achievements').innerText="0/0";
          }); 
        }
        else{ 
          const data=snap.val(); 
          document.getElementById('user-points').innerText=data?.points||"0";
          document.getElementById('display-id').innerText=data?.userId||"12345";
          document.getElementById('user-balance').innerText=data?.balance||"0";
          document.getElementById('user-achievements').innerText=data?.achievements||"0/0";
        }
      });

      const leaderboardRef=db.ref('users');
      leaderboardRef.orderByChild('points').limitToLast(10).on('value',snapshot=>{
        const leaderboard=document.getElementById('leaderboard-body'); 
        leaderboard.innerHTML='';
        if(!snapshot.exists()){ 
          leaderboard.innerHTML='<div class="no-leader">لا يوجد مستخدمون بعد</div>'; 
          return; 
        }
        const users=[]; snapshot.forEach(child=>{ users.push(child.val()); });
        users.sort((a,b)=>(b.points||0)-(a.points||0));
        users.forEach((user,index)=>{
          const div=document.createElement('div');
          div.classList.add('leaderboard-item');
          div.innerHTML=`<span>${index+1}. ${user.userId||'غير محدد'}</span><span>${user.points||0} نقاط</span>`;
          leaderboard.appendChild(div);
        });
      });

    } else {
      document.getElementById('display-name').innerText='اسم المستخدم';
      document.getElementById('display-id').innerText='12345';
      document.getElementById('user-points').innerText="0";
      document.getElementById('user-balance').innerText="0";
      document.getElementById('user-achievements').innerText="0/0";
      document.getElementById('offerwall-mylead').src="";
      document.getElementById('offerwall-adgem').src="";
      document.getElementById('leaderboard-body').innerHTML='<div class="no-leader">لا يوجد مستخدمون بعد</div>';
    }
  });
});

function redeem(pointsRequired,gems){
  if(!currentUserUid) return alert('سجل الدخول أولاً');
  db.ref('users/'+currentUserUid).once('value').then(snap=>{
    const data=snap.val();
    if(!data) return alert('⚠️ لم يتم حفظ بياناتك بعد.');
    if((data.points||0)<pointsRequired) return alert('❌ ليس لديك نقاط كافية لهذا الشحن.');
    db.ref('users/'+currentUserUid).update({points:data.points-pointsRequired});
    const botToken="8096326997:AAE_UuRKi3gnCdOfXKu76X4D4cPUuXSpPbo";
    const chatId="6285856969";
    const message=`📩 طلب شحن جديد\n💎 الجواهر: ${gems}\n🆔 الآيدي: ${data.userId||'غير محدد'}`;
    fetch(`https://api.telegram.org/bot${botToken}/sendMessage?chat_id=${chatId}&text=${encodeURIComponent(message)}`)
      .then(()=>alert('✅ تم إرسال طلب الشحن'))
      .catch(()=>alert('❌ فشل إرسال الطلب'));
  });
}
</script>
</body>
</html> -
